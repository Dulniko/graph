{% extends "base.html" %}

{% block title %}Algorytm Grahama{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold text-center mb-6">Wstęp</h1>
<header class="mb-6">
    <p class="text-lg">W dwuwymiarowym świecie Płaszczaków życie toczyło się spokojnie, a każdy dzień
        przynosił melodię pełną harmonii, płynącą z wielkiego prostokąta zwanego Stroną. Strona
        była wypełniona literami, które Płaszczaki rozpoznawały po ich dźwiękach. Jednak pewnego
        dnia harmonia została zakłócona. Zamiast melodii „boli”, Płaszczaki usłyszały przerażający
        dźwięk „poli”. To wydarzenie wprowadziło popłoch w Krainie, zamieszkanej przez Płaszczaki.
        Wierząc, że ktoś zamienił literę "b" na "p", Płaszczaki postanowiły zbudować płot wokół
        Krainy, aby chronić swoją melodię. Rozpoczęła się wielka misja, pełna wyzwań i odkryć.
    </p>
</header>
<h1 class="text-2xl font-bold text-center mb-6">Algorytm Grahama</h1>
<header class="mb-6">
    <p class="text-lg">W pierwszym etapie budowy płotu, Płaszczaki musiały wyznaczyć
    granice Krainy. Do tego celu użyły algorytmu Grahama. Algorytm ten,
    jak starożytny mędrzec, poprowadził je przez chaos punktów
    orientacyjnych, pomagając znaleźć najbardziej zewnętrzne punkty.
    Dzięki niemu Płaszczaki mogły stworzyć płot, wyznaczając granice
    swojej Krainy. Ta skomplikowana operacja przypominała układanie
    puzzli, gdzie każdy element musiał znaleźć swoje miejsce.</p>
</header>
<div class="flex justify-between items-start" style="width: 100%;">
    <!-- Left side - form and button for adding points -->
    <div class="w-1/3">
        <h1 class="text-xl font-bold mb-4">Dodaj punkt (x, y)</h1>
        <div hx-include="points_list.html" hx-get="/points-list" hx-trigger="load" class="mb-4">
            Ładowanie listy punktów...
        </div>
        <form hx-post="/points" hx-target="#points-container" hx-swap="outerHTML" class="mb-4">
            <input type="number" name="x" placeholder="x" class="border border-gray-300 p-2 rounded w-16 mr-2" required>
            <input type="number" name="y" placeholder="y" class="border border-gray-300 p-2 rounded w-16 mr-2" required>
            <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Dodaj punkt
            </button>
        </form>
        <!-- Button for refreshing the plot -->
        <button hx-get="/points-plot" hx-trigger="click" hx-target="#plot-container" hx-swap="innerHTML" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mt-4">
            Wygeneruj wykres*
        </button>
        <br>
        *Wymagane jest podanie minimum 3 punktów
    </div>
    
    <!-- Right side - plot of points centered -->
    <div id="plot-container" class="w-2/3 flex justify-center items-center"></div>
</div>
{% if request.query_params.get('source') == 'fabulary' %}
<div class="fixed bottom-5 right-5 m-4">
    <a href="/flows?source=fabulary" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        Następny krok
    </a>
</div>
{% endif %}
{% endblock %}